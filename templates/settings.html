{% extends 'inc/base.html' %}

{% load static %}

{% block title %}
<title>Settings</title>
{% endblock title %}

{% block styles %}
<link href="{% static 'css/settings.css' %}" rel="stylesheet">
{% endblock styles %}

{% block scripts %}
<script type="text/javascript" src="{% static 'js/fileInput.js' %}" charset="UTF-8"></script>
{% endblock scripts %}

{% block content %}
<ul class="list-unstyled mr-5">
  <li class="top-bar mb-3">
    <h3 class="mr-2">Settings: {{ user.username }}</h3>
  </li>
  <li class="mb-3">
    <!-- <form enctype="multipart/form-data">
      <div class="form-row mb-2">
        <label for="login" class="col-form-label col-sm-3 col-md-2 mr-1">Login</label>
        <input type="text" class="right-col form-control col-sm-6" id="login" placeholder={{ user.login }}>
      </div>

      <div class="form-row mb-2">
        <label for="email" class="col-form-label col-sm-3 col-md-2 mr-1">Email</label>
        <input type="email" class="right-col form-control col-sm-6" id="email" placeholder={{ user.e_mail }}>
      </div>

      <div class="form-row mb-3">
        <label for="nickname" class="col-form-label col-sm-3 col-md-2 mr-1">Nickname</label>
        <input type="text" class="right-col form-control col-sm-6" id="nickname" placeholder={{ user.username }}>
      </div>

      <div class="form-row mb-3">
        <label for="avatar" class="custom-file-upload col-form-label col-sm-3 col-md-2 mr-1">Upload avatar</label>
        <img src="{% static 'img/Toba.jpg' %}" class="file-image-preview mr-2" alt="new avatar image">
      </div>

      <div class="form-row mb-3">
        <div class="col-sm-3 col-md-2 mr-1"></div>
        <div id="fileButton" class="form-control right-col col-sm-6" onclick="getFile()">Click to upload an avatar</div>
        <div style='height: 0px;width: 0px; overflow:hidden;'>
          <input id="avatarFile" type="file" value="upload" onchange="sub(this)" />
        </div>
      </div>

      <div class="form-row">
        <div class="col-sm-3 col-md-2 mr-1"></div>
        <button type="submit" class="right-col btn btn-outline-dark">Save!</button>
      </div>
    </form> -->
    <form enctype="multipart/form-data" method="POST">
      {% csrf_token %}

      <div class="form-row mb-2">
        <label for="{{ form.username.id_for_label }}" class="col-form-label col-sm-3 col-md-2 mr-1">Login</label>
        {{ form.username }}
      </div>

      <div class="form-row mb-2">
        <label for="{{ form.email.id_for_label }}" class="col-form-label col-sm-3 col-md-2 mr-1">Email</label>
        {{ form.email }}
      </div>

      <div class="form-row mb-2">
        <label for="{{ form.nickname.id_for_label }}" class="col-form-label col-sm-3 col-md-2 mr-1">Nickname</label>
        {{ form.nickname }}
      </div>

      <div class="form-row mb-3">
        <label for="{{ form.avatar.id_for_label }}"
         class="custom-file-upload col-form-label col-sm-3 col-md-2 mr-1 my-auto">Change avatar</label>

        <div class="custom-image-file mr-2 col-sm-6 px-0">
          <img src="{{ user.profile.avatar.url }}" class="file-image-preview rounded mb-2"
           id="newAvatarImage" alt="new avatar image">
          <div id="file_button_{{ form.avatar.id_for_label }}" class="file-button right-col form-control"
           onclick="getFile('{{ form.avatar.id_for_label }}')">Click to upload a new avatar</div>
          {{ form.avatar }}
        </div>
      </div>

      <div class="form-row">
        <div class="col-sm-3 col-md-2 mr-1"></div>
        <button type="submit" class="right-col btn btn-outline-dark">Register!</button>
      </div>
    </form>
  </li>
</ul>
{% endblock content %}
